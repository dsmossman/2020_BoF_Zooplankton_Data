linewidth = 0.7,
show.legend = FALSE
) +
scale_colour_manual(
values = c("black"),
aesthetics = c("colour")
) +
geom_path(
data = OB_tracks[which(OB_tracks$Date == "20-Sep"),],
aes(x = Lon, y = Lat, group = Track),
alpha = 1,
linewidth = 0.9,
arrow = arrow(length = unit(8, "points"), ends = "last"),
color = "#56B4E9",
show.legend = FALSE
) +
geom_point(
data = OB_cages[which(OB_cages$Date == "20-Sep"),],
aes(x = Longitude, y = Latitude),
fill = "white",
shape = 21,
alpha = 0.7,
show.legend = FALSE
) +
geom_text(
data = OB_labels[which(OB_labels$Date == "20-Sep"),],
aes(x = Lon, y = Lat, label = Track),
hjust = "left",
vjust = "top",
size = 5
) +
# ggsn::scalebar(
#   data = reg,
#   location = "topleft",
#   dist = 0.5,
#   dist_unit = "nm",
#   transform = TRUE,
#   model = "WGS84",
#   anchor = c(x = -66.818, y = 44.9),
#   height = 0.0002,
#   st.dist = 0.0005,
#   st.size = 4
# ) +
labs(x = NULL,
y = NULL,
fill = "Depth (m)",
title = NULL) +
theme_bw() +
theme(panel.grid = element_blank(),
axis.text=element_text(size=10),
axis.title = element_text(size = 10))  +
labs(x = "Longitude",
y = "Latitude",
fill = "Depth (m)",
title = NULL)
print(Zoomed_Plot)
Zoomed_Plot = ggplot() +
geom_contour_filled(
data = bathy,
aes(x = x, y = y, z = z),
colour = NA,
breaks = c(seq(
from = 0, to = 250, by = 25
)),
show.legend = T
) +
scale_fill_grey(start = 0.9, end = 0.3) +
geom_sf(data=reg,fill="gray25",color="black", show.legend = F) +
coord_sf(xlim = lons, ylim = lats, expand = FALSE) +
annotation_scale(width_hint = 0.25, location = "tr", style = "bar" ) +
geom_path(
data = Glider_Data[which(Glider_Data$Date == "20-Sep"),],
aes(x = Longitude, y = Latitude),
color = "black",
alpha = 1,
linewidth = 0.7,
show.legend = FALSE
) +
geom_path(
data = OB_tracks[which(OB_tracks$Date == "20-Sep"),],
aes(x = Lon, y = Lat, group = Track),
alpha = 1,
linewidth = 0.9,
arrow = arrow(length = unit(8, "points"), ends = "last"),
color = "#56B4E9",
show.legend = FALSE
) +
geom_point(
data = OB_cages[which(OB_cages$Date == "20-Sep"),],
aes(x = Longitude, y = Latitude),
fill = "white",
shape = 21,
alpha = 0.7,
show.legend = FALSE
) +
geom_text(
data = OB_labels[which(OB_labels$Date == "20-Sep"),],
aes(x = Lon, y = Lat, label = Track),
hjust = "left",
vjust = "top",
size = 5
) +
labs(x = NULL,
y = NULL,
fill = "Depth (m)",
title = NULL) +
theme_bw() +
theme(panel.grid = element_blank(),
axis.text=element_text(size=10),
axis.title = element_text(size = 10))  +
labs(x = "Longitude",
y = "Latitude",
fill = "Depth (m)",
title = NULL)
print(Zoomed_Plot)
Zoomed_Plot = ggplot() +
geom_contour_filled(
data = bathy,
aes(x = x, y = y, z = z),
colour = NA,
breaks = c(seq(
from = 0, to = 250, by = 25
)),
show.legend = T
) +
scale_fill_grey(start = 0.9, end = 0.3) +
geom_sf(data=reg,fill="gray25",color="black", show.legend = F) +
coord_sf(xlim = lons, ylim = lats, expand = FALSE) +
annotation_scale(width_hint = 0.25, location = "tl", style = "bar" ) +
geom_path(
data = Glider_Data[which(Glider_Data$Date == "20-Sep"),],
aes(x = Longitude, y = Latitude),
color = "black",
alpha = 1,
linewidth = 0.7,
show.legend = FALSE
) +
geom_path(
data = OB_tracks[which(OB_tracks$Date == "20-Sep"),],
aes(x = Lon, y = Lat, group = Track),
alpha = 1,
linewidth = 0.9,
arrow = arrow(length = unit(8, "points"), ends = "last"),
color = "#56B4E9",
show.legend = FALSE
) +
geom_point(
data = OB_cages[which(OB_cages$Date == "20-Sep"),],
aes(x = Longitude, y = Latitude),
fill = "white",
shape = 21,
alpha = 0.7,
show.legend = FALSE
) +
geom_text(
data = OB_labels[which(OB_labels$Date == "20-Sep"),],
aes(x = Lon, y = Lat, label = Track),
hjust = "left",
vjust = "top",
size = 5
) +
labs(x = NULL,
y = NULL,
fill = "Depth (m)",
title = NULL) +
theme_bw() +
theme(panel.grid = element_blank(),
axis.text=element_text(size=10),
axis.title = element_text(size = 10))  +
labs(x = "Longitude",
y = "Latitude",
fill = "Depth (m)",
title = NULL)
print(Zoomed_Plot)
ggsave(filename = "Visuals/Thesis_Single_Track_Plot.png")
ggdraw() +
draw_plot(Full_Plot) +
draw_plot(Inset_Map, x = 0.2, y = 0.13, width = 0.2, height = 0.2)
ggdraw() +
draw_plot(Glider) +
draw_plot(Inset_Map, x = 0.2, y = 0.13, width = 0.2, height = 0.2)
ggdraw() +
draw_plot(Glider_Plot) +
draw_plot(Inset_Map, x = 0.2, y = 0.13, width = 0.2, height = 0.2)
#####
lons = c(-67,-66.2)
lats = c(44.45, 44.95)
lons = c(-67,-66.2)
lats = c(44.45, 44.95)
Glider_Plot =
ggplot() +
geom_contour_filled(
data = bathy,
aes(x = x, y = y, z = z),
colour = NA,
breaks = c(seq(
from = 0, to = 250, by = 25
)),
show.legend = T
) +
scale_fill_grey(start = 0.9, end = 0.3) +
geom_sf(data=reg,fill="gray25",color="black") +
coord_sf(xlim = lons, ylim = lats, expand = FALSE) +
geom_point(data=Cage_Data, aes(x=Longitude,y=Latitude),
shape=21,
color="black",
fill="white") +
geom_path(
data = Glider_Data,
aes(x = Longitude, y = Latitude,group=Date),
color="black",
alpha = 1,
linewidth = 0.5,
show.legend = FALSE
) +
geom_text(data=GMB_Stations,aes(x=Longitude,y=Latitude,label=c("GMB1","GMB2","GMB3")),
size=4) +
geom_text(data=OB_Stations,aes(x=Longitude,y=Latitude,label=c("OB1","OB2","OB3")),
size=4) +
annotation_scale(width_hint = 0.25, location = "tr", style = "bar") +
labs(x = "Longitude",
y = "Latitude",
fill = "Depth (m)",
title = NULL) +
theme_bw() +
theme(panel.grid = element_blank(),
axis.text=element_text(size=10),
axis.title = element_text(size = 10)) +
scale_y_continuous(breaks = c(44.50, 44.55, 44.60, 44.65, 44.70, 44.75, 44.8, 44.85, 44.90)) +
scale_x_continuous(breaks = c(-66.9, -66.8, -66.7, -66.6, -66.5, -66.4, -66.3))
print(Glider_Plot)
ggdraw() +
draw_plot(Glider_Plot) +
draw_plot(Inset_Map, x = 0.2, y = 0.13, width = 0.2, height = 0.2)
ggdraw() +
draw_plot(Glider_Plot) +
draw_plot(Inset_Map, x = 0.8, y = 0.13, width = 0.2, height = 0.2)
ggdraw() +
draw_plot(Glider_Plot) +
draw_plot(Inset_Map, x = 0.7, y = 0.13, width = 0.2, height = 0.2)
ggdraw() +
draw_plot(Glider_Plot) +
draw_plot(Inset_Map, x = 0.65, y = 0.13, width = 0.2, height = 0.2)
ggdraw() +
draw_plot(Glider_Plot) +
draw_plot(Inset_Map, x = 0.6, y = 0.13, width = 0.2, height = 0.2)
Glider_Plot_With_Inset = ggdraw() +
draw_plot(Glider_Plot) +
draw_plot(Inset_Map, x = 0.6, y = 0.13, width = 0.2, height = 0.2)
ggarrange(Glider_Plot_With_Inset, Zoomed_Plot, ncol = 2, common.legend = T)
ggarrange(Glider_Plot_With_Inset, Zoomed_Plot, ncol = 2, common.legend = F)
Glider_Plot =
ggplot() +
geom_contour_filled(
data = bathy,
aes(x = x, y = y, z = z),
colour = NA,
breaks = c(seq(
from = 0, to = 250, by = 25
)),
show.legend = F
) +
scale_fill_grey(start = 0.9, end = 0.3) +
geom_sf(data=reg,fill="gray25",color="black") +
coord_sf(xlim = lons, ylim = lats, expand = FALSE) +
geom_point(data=Cage_Data, aes(x=Longitude,y=Latitude),
shape=21,
color="black",
fill="white") +
geom_path(
data = Glider_Data,
aes(x = Longitude, y = Latitude,group=Date),
color="black",
alpha = 1,
linewidth = 0.5,
show.legend = FALSE
) +
geom_text(data=GMB_Stations,aes(x=Longitude,y=Latitude,label=c("GMB1","GMB2","GMB3")),
size=4) +
geom_text(data=OB_Stations,aes(x=Longitude,y=Latitude,label=c("OB1","OB2","OB3")),
size=4) +
annotation_scale(width_hint = 0.25, location = "tr", style = "bar") +
labs(x = "Longitude",
y = "Latitude",
fill = "Depth (m)",
title = NULL) +
theme_bw() +
theme(panel.grid = element_blank(),
axis.text=element_text(size=10),
axis.title = element_text(size = 10)) +
scale_y_continuous(breaks = c(44.50, 44.55, 44.60, 44.65, 44.70, 44.75, 44.8, 44.85, 44.90)) +
scale_x_continuous(breaks = c(-66.9, -66.8, -66.7, -66.6, -66.5, -66.4, -66.3))
Glider_Plot =
ggplot() +
geom_contour_filled(
data = bathy,
aes(x = x, y = y, z = z),
colour = NA,
breaks = c(seq(
from = 0, to = 250, by = 25
)),
show.legend = F
) +
scale_fill_grey(start = 0.9, end = 0.3) +
geom_sf(data=reg,fill="gray25",color="black") +
coord_sf(xlim = lons, ylim = lats, expand = FALSE) +
geom_point(data=Cage_Data, aes(x=Longitude,y=Latitude),
shape=21,
color="black",
fill="white") +
geom_path(
data = Glider_Data,
aes(x = Longitude, y = Latitude,group=Date),
color="black",
alpha = 1,
linewidth = 0.5,
show.legend = FALSE
) +
geom_text(data=GMB_Stations,aes(x=Longitude,y=Latitude,label=c("GMB1","GMB2","GMB3")),
size=4) +
geom_text(data=OB_Stations,aes(x=Longitude,y=Latitude,label=c("OB1","OB2","OB3")),
size=4) +
annotation_scale(width_hint = 0.25, location = "tr", style = "bar") +
labs(x = "Longitude",
y = "Latitude",
fill = "Depth (m)",
title = NULL) +
theme_bw() +
theme(panel.grid = element_blank(),
axis.text=element_text(size=10),
axis.title = element_text(size = 10)) +
scale_y_continuous(breaks = c(44.50, 44.55, 44.60, 44.65, 44.70, 44.75, 44.8, 44.85, 44.90)) +
scale_x_continuous(breaks = c(-66.9, -66.8, -66.7, -66.6, -66.5, -66.4, -66.3))
Glider_Plot_With_Inset = ggdraw() +
draw_plot(Glider_Plot) +
draw_plot(Inset_Map, x = 0.6, y = 0.13, width = 0.2, height = 0.2)
ggarrange(Glider_Plot_With_Inset, Zoomed_Plot, ncol = 2, common.legend = T)
ggarrange(Glider_Plot_With_Inset, Zoomed_Plot, ncol = 2, common.legend = T, legend = "left")
Glider_Plot_With_Inset = ggdraw() +
draw_plot(Glider_Plot) +
draw_plot(Inset_Map, x = 0.65, y = 0.2, width = 0.2, height = 0.2)
ggarrange(Glider_Plot_With_Inset, Zoomed_Plot, ncol = 2, common.legend = T, legend = "left")
Glider_Plot_With_Inset = ggdraw() +
draw_plot(Glider_Plot) +
draw_plot(Inset_Map, x = 0.75, y = 0.2, width = 0.2, height = 0.2)
ggarrange(Glider_Plot_With_Inset, Zoomed_Plot, ncol = 2, common.legend = T, legend = "left")
View(Glider_Startpoints)
Glider_Startpoints %>%
st_as_sf(c("Longitude", "Latitude"))
Glider_Startpoints %>%
st_as_sf(c("Longitude", "Latitude"), crs = crs(reg))
Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = crs(reg))
Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))
Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))
cbind(Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))
Glider_Endpoints %>%
cbind(Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)))
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)))
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
group_by(Start.Date) %>%
summarise() %>%
st_cast("LINESTRING")
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
summarise() %>%
st_cast("LINESTRING")
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
summarise() %>%
st_cast("LINE")
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
summarise() %>%
st_cast("LINESTRING", group_or_split=F)
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
group_by(Start.Date) %>%
summarise() %>%
st_cast("LINESTRING", group_or_split=F)
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
group_by(Start.Date) %>%
summarise() %>%
st_cast("LINESTRING", group_or_split=F) %>%
ggplot()
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
group_by(Start.Date) %>%
summarise() %>%
st_cast("LINESTRING", group_or_split=F) %>%
ggplot() + geom_sf()
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)))
Glider_SF_Data = cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)))
st_cast(Glider_SF_Data[1,], "LINESTRING")
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)))
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
group_by(Start.Data) %>%
summarise(do_union = F)
cbind(Start = Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
End = Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
group_by(Start.Date) %>%
summarise(do_union = F)
cbind(Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
group_by(Date) %>%
summarise(do_union = F)
cbind(Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)))
cbind(Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))) %>%
group_by(Date) %>%
summarise(across(), do_union = F)
st_combine(Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)))
(Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
cbind(Glider_Startpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)),
Glider_Endpoints %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)))
View(Glider_Data)
Glider_Data %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(red))
Glider_Data %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))
Glider_Data %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)) %>%
group_by(Date) %>%
summarise(do_union = F) %>%
st_cast("LINESTRING")
Glider_Data_SF = Glider_Data %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg)) %>%
group_by(Date) %>%
summarise(do_union = F) %>%
st_cast("LINESTRING")
ggplot() + geom_sf(data = Glider_Data_SF)
View(Cage_Data)
View(OB_Stations)
View(Cage_Data)
Station_Data_SF = Cage_Data %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = st_crs(reg))
View(Station_Data_SF)
st_distance(Glider_Data_SF, Station_Data_SF)
st_distance(Glider_Data_SF, Station_Data_SF)
library(lwgeom)
install.packages("lwgeom")
st_distance(Glider_Data_SF, Station_Data_SF)
View(Sept_19_GPS)
Station_Data_SF$Dist_To_Glider = st_distance(Station_Data_SF$geometry[i],
Glider_Data_SF$geometry[which(Glider_Data_SF$Date == Station_Data_SF$Date[i])])
for(i in 1:nrow(Station_Data_SF)) {
Station_Data_SF$Dist_To_Glider = st_distance(Station_Data_SF$geometry[i],
Glider_Data_SF$geometry[which(Glider_Data_SF$Date == Station_Data_SF$Date[i])])
}
Station_Data_SF$Dist_To_Glider[i] = st_distance(Station_Data_SF$geometry[i],
Glider_Data_SF$geometry[which(Glider_Data_SF$Date == Station_Data_SF$Date[i])])
View(Station_Data_SF)
st_distance(Station_Data_SF[1,], Glider_Data_SF[1,])
st_distance(Station_Data_SF[2,], Glider_Data_SF[1,])
nrow(Station_Data_SF)
for(i in 1:nrow(Station_Data_SF)) {
Station_Data_SF$Dist_To_Glider[i] = st_distance(Station_Data_SF$geometry[i],
Glider_Data_SF$geometry[which(Glider_Data_SF$Date == Station_Data_SF$Date[i])])
}
mean(Station_Data_SF$Dist_To_Glider)
